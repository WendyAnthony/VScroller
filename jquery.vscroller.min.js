/*
 * jQuery VScroller v1.1
 * Created by Nxeed | https://github.com/nxeed
 */
"function"!=typeof Object.create&&(Object.create=function(t){function s(){}return s.prototype=t,new s}),function(t,s){var o={$elem:null,$content:null,$scrollBody:null,$scroll:null,height:0,contentHeight:0,scrollBodyHeight:0,scrollHeight:0,contentPaddingBottom:0,scrollPos:0,contentPos:0,options:{},redraw:function(){var t=this,s=!0;this.scrollPos<0&&(this.scrollPos=0,s=!1),this.scrollPos>this.scrollBodyHeight-this.scrollHeight&&(this.scrollPos=t.scrollBodyHeight-t.scrollHeight,s=!1);var o=parseInt(100*this.scrollPos/(this.scrollBodyHeight-this.scrollHeight)),i=this.contentHeight-this.contentPaddingBottom-this.height;return this.$scroll.stop(!1,!0).animate({top:this.scrollPos+"px"},{duration:this.options.animationDuration,easing:this.options.easing}),this.$dummy.stop(!1,!0).animate({top:this.scrollPos+"px"},{duration:this.options.animationDuration,easing:this.options.easing}),this.$content.stop(!1,!0).animate({top:i*o/100*-1+"px"},{duration:this.options.animationDuration,easing:this.options.easing}),s},checkVisible:function(){return this.contentHeight>this.height?(this.$scrollBody.show(),!0):(this.$scrollBody.hide(),!1)},refreshContentSize:function(){this.contentHeight=this.$content.outerHeight(),this.redraw(),this.checkVisible()},init:function(o,i){var e=this;this.options=t.extend({},t.fn.vscroller.options,t(i).data(),o),this.$elem=t(i),this.$content=t(".vscroller-content",e.$elem),this.$scrollBody=t('<div class="vscroller-scroll-body"></div>'),this.$scroll=t('<a href="#" class="vscroller-scroll"></a>'),this.$dummy=t('<div class="vscroller-scroll"></div>'),this.$elem.append(this.$scrollBody),this.$scrollBody.append(this.$scroll),this.$scrollBody.append(this.$dummy),this.$dummy.fadeTo(0,0).hide(),this.height=this.$elem.outerHeight(),this.contentHeight=this.$content.outerHeight(),this.contentPaddingBottom=parseInt(this.$content.css("paddingBottom")),this.scrollHeight=this.$scroll.outerHeight(),this.$scrollBody.css("height",this.$elem.height()-2*parseInt(this.$scrollBody.css("top"))+"px"),this.scrollBodyHeight=this.$scrollBody.outerHeight();var l=0;t(s).bind("resize.vscroller",this.refreshContentSize),setInterval(function(){e.refreshContentSize()},1e3),this.$scrollBody.bind("mousedown.vscroller",function(s){if(0!==s.button)return!1;s.preventDefault();var o=parseInt(s.pageY-t(this).offset().top);e.scrollPos=o,e.redraw(),e.$scroll.focus()}),this.$scroll.bind("dragstart.vscroller",function(){setTimeout(function(){e.$dummy.show()},1),l=e.scrollPos,e.$elem.addClass("vscroller-drag")}).bind("drag.vscroller",function(t,s){e.dragDeltaY=s.deltaY;var o=l+s.deltaY;e.scrollPos=o,e.redraw()}).bind("dragend.newstape",function(){e.$dummy.hide(),e.$scroll.focus(),e.$elem.removeClass("vscroller-drag")}),this.$scroll.bind("click.vscroller",function(s){t(this).focus(),s.preventDefault()}),this.$scroll.bind("keypress.vscroller",function(t){var s=e.options.scrollRate;38===t.keyCode?e.scrollPos=e.scrollPos-s:40===t.keyCode&&(e.scrollPos=e.scrollPos+s),e.redraw()}),this.$dummy.bind("click.vscroller",function(){e.$scroll.focus()}),this.options.mousewheel&&this.$elem.bind("mousewheel.vscroller",function(t){if(e.checkVisible()){var s=e.options.scrollRate;e.scrollPos=t.deltaY>0?e.scrollPos-s:e.scrollPos+s,e.redraw()&&t.preventDefault()}}),this.checkVisible()}};t.fn.vscroller=function(s){return this.each(function(){if(t(this).data("vscroller-init")===!0)return!1;t(this).data("vscroller-init",!0);var i=Object.create(o);i.init(s,this),t.data(this,"vscroller",i)})},t.fn.vscroller.options={mousewheel:!0,easing:"linear",scrollRate:15,animationDuration:400}}(jQuery,window,document);